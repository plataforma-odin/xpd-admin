<svg oncontextmenu="return false" xmlns='http://www.w3.org/2000/svg' version='1.1' ng-attr-width='{{svg.width}}' ng-attr-height='{{svg.height}}' preserveAspectRatio="none"
     xpd-view-box="svg.viewBox" class="xpd-events-container">
   
    <rect class="overlay" width="100%" height="100%" fill-opacity="0"></rect>

    <g class="overlay">
            <g 
                class="rect-bar" 
                ng-if="event && event.startTime" 
                ng-repeat="(key, event) in filteredEvents | orderBy: 'startTime' track by $index"
                ng-attr-transform="{{'translate('+ getBarXPosition(event.startTime)+ ', 0)'}}">
    
                <rect 
                    ng-attr-id="{{ key }}"
                    ng-attr-y="{{ getBarYPosition(event) }}"
                    ng-attr-width="{{ getBarWidth(event.duration) }}"
                    ng-attr-height="{{ getBarHeight(event) }}"
                    ng-attr-fill="{{ event.performanceColor }}"
                    stroke="none">
                </rect>
            </g>
        </g>

    <g 
        id="{{elementIdGroup}}" 
        ng-if="currentEvent && currentEvent.startTime"
        class="overlay" 
        oncontextmenu="return false"
        ng-attr-transform="{{'translate('+ getBarXPosition(currentEvent.startTime) +', 0)'}}">
        <rect id="{{elementIdBar}}" class="current-event-bar"></rect>

    </g>

</svg>

<div class="btn-group slips-to-slips-dropdown-menu" uib-dropdown>
    <ul uib-dropdown-menu role="menu">
        <li role="menuitem">
            <a ng-click="actionOpenDetailsModal()" id="times-bar-click-details">Details</a>
        </li>
        <li role="menuitem">
            <a ng-click="actionOpenFailuresModal()" id="times-bar-click-failures">Failures</a>
        </li>
        <li role="menuitem">
            <a ng-click="actionOpenLessonsLearnedModal()" id="times-bar-click-lessons">Lessons Learned</a>
        </li>
    </ul>
</div>
